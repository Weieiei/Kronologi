<div fxLayout="row" fxLayoutAlign="center" fxFlex="noshrink">
    <div fxLayout="column" fxFlex.gt-sm="600px" ngClass.gt-sm="mat-elevation-z3" class="container" fxLayoutGap="20px">
        <div fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="5px">
            <img src="assets/images/kronologi-logo-1.png" width="128" />
            <div class="title">Reset your Kronologi Password</div>
        </div>
        <form autocomplete="off" [formGroup]="passwordRestForm" (submit)="resetPassword()">
            <div fxLayout="column" class="passwords-container">
                <mat-form-field appearance="outline" class="padded-field">
                    <mat-label>New password</mat-label>
                    <input matInput formControlName="password"
                           [type]="isPasswordVisible ? 'text' : 'password'" name="password">
                    <mat-hint>
                        Between 6-30 characters, at least 1 number and  1 digit
                    </mat-hint>
                    <mat-error *ngIf="passwordRestForm.get('password').touched &&
                                    passwordRestForm.get('password').errors
                                    && passwordRestForm.get('password').errors.required">
                        Password is <strong>required</strong>
                    </mat-error>
                    <mat-error *ngIf="passwordRestForm.get('password').touched &&
                                    passwordRestForm.get('password').errors
                                    && passwordRestForm.get('password').errors.pattern">
                        Password is <strong>not</strong> in correct format
                    </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="padded-field">
                    <mat-label>Confirm your new password</mat-label>
                    <input matInput formControlName="confirmPassword"
                           [type]="isPasswordVisible ? 'text' : 'password'" name="confirmPassword"
                           [errorStateMatcher]="matcher">.
                    <mat-icon matSuffix style="cursor: pointer" (click)="togglePasswordVisibility()">{{ isPasswordVisible ? 'visibility_on' : 'visibility_off' }}</mat-icon>
                    <mat-error *ngIf="passwordRestForm.get('confirmPassword').touched &&
                                    passwordRestForm.get('confirmPassword').errors
                                    && passwordRestForm.get('confirmPassword').errors.required">
                        Password confirmation is <strong>required</strong>
                    </mat-error>
                    <mat-error *ngIf="passwordRestForm.get('confirmPassword').touched &&
                                    passwordRestForm.get('password').touched && passwordRestForm.errors?.mismatched">
                        Passwords do not match
                    </mat-error>
                </mat-form-field>
                <button mat-raised-button color="primary" type="submit" [disabled]="passwordRestForm.invalid">Reset</button>
            </div>
        </form>
    </div>
</div>
