<mat-card [ngClass]="{'cancelCard': appointment.status=='CANCELLED'}">
    <mat-card-header>
        <div mat-card-avatar>
            <img src="assets/images/spa-logo.svg" style="width: inherit; height: inherit"/>
        </div>
        <div mat-icon  fxFlex fxLayoutAlign="end start" *ngIf="appointment.status=='CANCELLED'">
           <button mat-button (click)="openReasonDialog()">
                <mat-icon color="primary">error_outline</mat-icon>
            </button>
        </div>
        <mat-card-title>{{ appointment.service.name }}</mat-card-title>
        <mat-card-subtitle>Sylvia Pizzi Spa</mat-card-subtitle>
    </mat-card-header>
    <img mat-card-image src="https://interlude.com/wp-content/uploads/2016/03/spa-packages500-5.jpg"
         alt="Photo of a Shiba Inu" height="194" width="344">
    <mat-card-content>
        <div>
            <b>Date:</b> {{ appointment.date | date: 'fullDate'}}
        </div>
        <div>
            <b>Start Time:</b> {{ appointment.startTime }}
        </div>
        <div>
            <b>End Time:</b> {{ appointment.endTime }}
        </div>
    </mat-card-content>
    <mat-card-actions *ngIf="now <= appointmentStart" fxLayout="row" fxLayoutGap="8px">
        <button fxFlex color="primary" mat-stroked-button (click)='openDialog()' [disabled]="appointment.status=='CANCELLED'">
            <span fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="8px" >
                <mat-icon appButtonIcon>cancel</mat-icon>
                <span>CANCEL</span>
            </span>
        </button>

        <button fxFlex color="primary" mat-flat-button (click)="modifyAppointment()" [disabled]="appointment.status=='CANCELLED'">
            <span fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="8px">
                <mat-icon appButtonIcon>edit</mat-icon>
                <span>MODIFY</span>
            </span>
        </button>
    </mat-card-actions>
    <mat-card-actions *ngIf="now > appointmentStart" fxLayout="row" fxLayoutGap="16px">
        <button fxFlex color="primary" mat-stroked-button [disabled]=reviewExists (click)="review()">
            <span fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="8px">
                <mat-icon appButtonIcon>edit</mat-icon>
                <span>REVIEW</span>
            </span>
        </button>
    </mat-card-actions>
</mat-card>
