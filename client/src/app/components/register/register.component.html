<div class="main">

	<div class="column">

		<h3>{{ data.header }}</h3>

		<form class="user form" #userForm="ngForm" (ngSubmit)="registerUser()" autocomplete="off">

			<div class="name fields">
				<mat-form-field id="firstname" floatLabel="never">
					<input matInput #firstNameInput [(ngModel)]="firstName"
						type="text" name="firstname"
						pattern=".{1,}" placeholder="First name" required>
				</mat-form-field>

				<mat-form-field id="lastname" floatLabel="never">
					<input matInput [(ngModel)]="lastName"
						type="text" name="lastname"
						pattern=".{1,}" placeholder="Last name" required>
				</mat-form-field>
			</div>

			<mat-form-field class="field" hintLabel="E.g.: johndoe@gmail.com" floatLabel="never">
				<input matInput [(ngModel)]="email"
					type="text" name="email"
					pattern="^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+[.][A-Za-z]{2,3}$" placeholder="Email" required>
				<mat-icon matSuffix>email</mat-icon>
			</mat-form-field>

			<mat-form-field class="field" hintLabel="Between 4 and 30 characters" floatLabel="never">
				<input matInput [(ngModel)]="username"
					type="text" name="username"
					pattern=".{4,30}" placeholder="Username" required>
				<mat-icon matSuffix>person</mat-icon>
			</mat-form-field>

			<mat-form-field class="field" floatLabel="never">
				<input matInput [(ngModel)]="password"
					type="password" name="password"
					pattern="^(?=.*\d)(?=.*[a-zA-Z]).{6,30}$" placeholder="Password" required>
				<mat-icon matSuffix>visibility_off</mat-icon>
				<mat-hint>
					Between 6 and 30 characters
					<br>
					Must contain at least 1 letter and 1 digit
				</mat-hint>
			</mat-form-field>

			<mat-form-field class="field" floatLabel="never">
				<input matInput [(ngModel)]="repeatPassword"
					type="password" name="repeatPassword"
					placeholder="Re-enter password" required>
				<mat-icon matSuffix>visibility_off</mat-icon>
			</mat-form-field>

            <div *ngIf="services?.length">

                <mat-selection-list #serviceList [(ngModel)]="employeeServices" name="employeeServices">
                    <mat-list-option *ngFor="let service of services" [value]="service.id">
                        {{ service.name }}
                    </mat-list-option>
                </mat-selection-list>

                <p>Services selected: {{ serviceList.selectedOptions.selected.length }}</p>

                <div *ngFor="let i of arr(numberOfShifts).fill(1)">
                    <app-shift-picker></app-shift-picker>
                </div>

                <button mat-raised-button type="button" (click)="addShift()">Add Shift</button>

            </div>

			<button mat-stroked-button color="primary" type="submit" [disabled]="userForm.form.invalid">{{ data.button }}</button>

		</form>

	</div>

</div>
